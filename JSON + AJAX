<script>
  // Run the script after the DOM is fully loaded
  document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById("shippingForm");

    // Handle form submission
    form.addEventListener("submit", function (event) {
      event.preventDefault(); // Prevent default form submission behavior

      // Retrieve values from input fields
      const destination = document.getElementById("destination").value.trim();
      const carrier = document.getElementById("carrier").value;
      const method = document.getElementById("method").value;

      // Simple validation to make sure all fields are filled
      if (!destination || !carrier || !method) {
        alert("Please fill out all fields.");
        return;
      }

      // Create a JSON object from form data
      const shippingData = {
        shippingDestination: destination,
        shippingCarrier: carrier,
        shippingMethod: method,
        timestamp: new Date().toISOString() // Optional: add a timestamp
      };

      // Print JSON to the browser console for verification
      console.log("Shipping Data JSON:", JSON.stringify(shippingData, null, 2));

      //  Send JSON data to the server using AJAX (fetch API)
      fetch("https://jsonplaceholder.typicode.com/posts", { // Replace with actual API endpoint
        method: "POST",
        headers: {
          "Content-Type": "application/json" // Tell the server weâ€™re sending JSON
        },
        body: JSON.stringify(shippingData) // Convert JS object to JSON string
      })
      .then(response => response.json())
      .then(data => {
        console.log("Shipping data successfully sent to server:", data);
        alert("Shipping data sent via AJAX!");
      })
      .catch(error => {
        console.error("Error sending data:", error);
        alert("Failed to send data.");
      });
    });
  });
</script>

